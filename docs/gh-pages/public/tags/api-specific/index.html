<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>api-specific | DSLinter - Linter for Machine Learning - Specific Code Smells</title>
<meta name=keywords content>
<meta name=description content>
<meta name=author content>
<link rel=canonical href=/tags/api-specific/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.548091f41dc92b4a213f8dc4a49e22545a96b7d1b4ae4ad73c2ab3a70e4e8ea1.css integrity="sha256-VICR9B3JK0ohP43EpJ4iVFqWt9G0rkrXPCqzpw5OjqE=" rel="preload stylesheet" as=style>
<link rel=icon href=%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.0">
<link rel=alternate type=application/rss+xml href=/tags/api-specific/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="api-specific">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="/tags/api-specific/"><meta property="og:site_name" content="DSLinter - Linter for Machine Learning Application - Specific Code Smells">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="api-specific">
<meta name=twitter:description content>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href accesskey=h title="DSLinter - Linter for Machine Learning - Specific Code Smells (Alt + H)">DSLinter - Linter for Machine Learning - Specific Code Smells</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=/code-smells/ title="Code Smells">
<span>Code Smells</span>
</a>
</li>
<li>
<a href=search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href title=Survey>
<span>Survey</span>
</a>
</li>
<li>
<a href=/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href>Home</a>&nbsp;»&nbsp;<a href=/tags/>Tags</a></div>
<h1>api-specific</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Nan Equality Misused
</h2>
</header>
<section class=entry-content>
<p>Description While None == None evaluates to True, numpy.nan == numpy.nan evaluates to False. As Pandas treats None like numpy.nan for simplicity and performance reasons, a comparison of DataFrame elements with numpy.nan always return False . Therefore, developers need to be careful when using the NaN comparision in Numpy and Pandas. Otherwise, it may lead to unintentional behavior in the code.
Type API Specific
Existing Stage Data Preparation
Effect Error-prone...</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Nan Equality Misused" href=/code-smells/nan-equality-misused/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Chain Indexing Misused
</h2>
</header>
<section class=entry-content>
<p>Avoid using chain indexing in Pandas.</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Chain Indexing Misused" href=/code-smells/chain-indexing/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Dataframe Coversion API Misused
</h2>
</header>
<section class=entry-content>
<p>Description When converting DataFrame to NumPy array, it is better to use df.to\_numpy() than df.values(). As noted in a post, df.values() has inconsistency problem. With .values it is unclear whether the returned value would be the actual array, some transformation of it, or one of the Pandas custom arrays. However, .values is not deprecated yet. Although the library developers note it as a warning in the documentation, it does not log a warning or error when compiling if we use ....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Dataframe Coversion API Misused" href=/code-smells/dataframe-coversion-api-misused/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Regular Expression Solution Not Optimal
</h2>
</header>
<section class=entry-content>
<p>Description A post provides a better coding solution for the regular expression, which might be able to apply to the Nature Language Processing (NLP) preprocessing process. NLP tasks are data-intensive and often take a long time to clean the data, so it would be good to save some time when preprocessing the data. The post noted that regex.sub() and str.translate() work faster than str.replace() in practice in Pandas library. The more efficient solution is worth considering....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Regular Expression Solution Not Optimal" href=/deprecated/regular-expression-solution-not-optimal/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Tensor Shape Unset
</h2>
</header>
<section class=entry-content>
<p>Description Several bugs can be caused by tensor unaligned. Usually, the unaligned tensor problems cannot be identified at the code level, but we can explicitly control one. It is recommended to explicitly set the shape of the input for tf.Variable() to make the tensor aligned. In this way, we can alleviate the unaligned tensor problem.
Type API Specific
Existing Stage Data Preparation
Effect Error-prone
Example ### TensorFlow import Tensorflow as tf # Violated Code normal_dist = tf....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Tensor Shape Unset" href=/deprecated/tensor-shape-unset/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Backend Engine Mischoosed
</h2>
</header>
<section class=entry-content>
<p>Description When using pd.eval() in Pandas library, the numexpr is optimized for performance and python options offer no performance benefit over numexpr. Generally, it is not recommended to set the parameter to python. The developers should be careful when explicitly set this parameter.
Type API Specific
Existing Stage Data Preparation
Effect Efficiency
Example ### Pandas import pandas as pd # Violated Code pd.eval('df.A.str.contains("ab")', engine='python') # Recommended Fix pd.eval('df.A.str.contains("ab")') Source: Paper Grey Literature GitHub Commit Stack Overflow https://stackoverflow....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Backend Engine Mischoosed" href=/deprecated/backend-engine-mischoosed/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Matrix Multiplication API Misused
</h2>
</header>
<section class=entry-content>
<p>Description np.matmul() in Numpy library is more readable than np.dot() in the semantic way. Whilenp.dot() provides heterogeneous behaviors depending on the shape of the data, np.matmul() behaves in a consistent way. When the multiply operation is performed on two-dimension matrixes, two APIs give a same result. However, np.matmul() is preferred than np.dot() for its clear semantic.
Type API Specific
Existing Stage Model Training
Effect Readability
Example ### NumPy import numpy as np a = [[1, 0], [0, 1]] b = [[4, 1], [2, 2]] - np....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Matrix Multiplication API Misused" href=/code-smells/matrix-multiplication-api-misused/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Initialization Order Misused
</h2>
</header>
<section class=entry-content>
<p>Description The AdamOptimizer class in the TensorFlow creates additional variables named “slots”. The variables must be initialized before training the model. Therefore, if the developer call initialize_all_variables() before calling AdamOptimizer and does not call the initializer afterward, the variables created by AdamOptimizer will not be initialized and might cause an error.
Type API Specific
Existing Stage Model Training
Effect Error-prone
Example ### TensorFlow import tensorflow as tf # Violated Code init = tf....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Initialization Order Misused" href=/deprecated/initialization-order-misused/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Pytorch Call Method Misused
</h2>
</header>
<section class=entry-content>
<p>Description In PyTorch, self.nn() is different than self.nn.forward(). self.nn() also deals with all the register hooks, which would not be considered when calling the plain forward. Thus, it is recommended to use self.nn() than self.nn.forward().
Type API Specific
Existing Stage Model Training
Effect Robustness
Example ### PyTorch # 1. Load and normalize CIFAR10 import torch import torchvision import torchvision.transforms as transforms transform = transforms.Compose( [transforms.ToTensor(), transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Pytorch Call Method Misused" href=/code-smells/pytorch-call-method-misused/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Train Eval Mode Improper Toggling
</h2>
</header>
<section class=entry-content>
<p>Description In PyTorch, calling .eval() means we are going into the evaluation mode and the Dropout layer will be deactivated. If the training mode did not toggle back in time, the Dropout layer would not be used in some data training and thus affect the training result. Therefore, we suggest to “have the training mode set as close as possible to the inference step to avoid forgetting to set it”....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Train Eval Mode Improper Toggling" href=/code-smells/train-eval-mode-improper-toggling/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=/tags/api-specific/page/2/>Next Page »</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2022 <a href>DSLinter - Linter for Machine Learning - Specific Code Smells</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>